(function(){function n(n){return`
          <div id="note_${n.Id}" class="d-flex justify-content-start bg-light rounded-3 shadow-2-strong mb-2 w-100">
            <p class="px-3 pt-3 col-11">
              ${n.Note}
              <small class="float-end text-dark mt-4 mt-auto">${moment(n.CreatedAt).locale("el").format("LL")}</small>
            </p>
            <button type="button" class="btn-close btn-sm mb-auto ms-auto  deleteNote" aria-label="Close" data-noteid="${n.Id}"></button>
          </div>`}$(function(){$(".noteHeader").click(function(){$(".friend-list").find("li").each(function(){$(this).removeClass("gradient-new-york").addClass("grey").addClass("lighten-3")});$(this).closest("li").removeClass("grey").removeClass("lighten-3").addClass("gradient-new-york");$(".chatList").find("div").each(function(){$(this).remove()});let t=$(this).data("noteid"),i=$(this).data("postid");$.ajax({url:`${domainUrl}/api/GetNotes/${t}`,method:"GET",dataType:"text"}).done(function(r){var u,f;$("#previewTile").empty();u=$(`#noteGroup_${t}`).html();$("#previewTile").html(u);f=JSON.parse(r);$.each(f.AspNetUserNotesDetails,function(t,i){$(".chatList").append(n(i))});$(`.sendButton[type="button"]`).data("noteid",i);$(".deleteNote").click(function(){let n=$(this).data("noteid");$.ajax({url:`${domainUrl}/api/DeleteNote/${n}`,method:"POST",dataType:"text"}).done(function(){$(`#note_${n}`).remove()}).fail(function(){})})}).fail(function(){})});$(".deleteNoteGroup").click(function(){let n=$(this).data("postid");$.ajax({url:`${domainUrl}/api/DeleteNotes/${n}`,method:"POST",dataType:"text"}).done(function(){$(`#noteGroup_${n}`).remove()}).fail(function(){})});$(".sendButton").click(function(){let n=$(this).data("noteid");var t={notes:$(`textarea[name="note"]`).val()};$.ajax({type:"POST",url:`${domainUrl}/api/SaveNote/${n}`,contentType:"application/json charset=utf-8",dataType:"json",data:JSON.stringify(t)}).done(function(){$(`.noteHeader[data-postid="${n}"]`).click()}).fail(function(n,t){alert("Request failed: "+t)});$(`textarea[name="note"]`).val("")});setMode1()})})();