/*!
 * ihavecookies - jQuery plugin for displaying cookie/privacy message
 * v0.3.2
 *
 * Copyright (c) 2018 Ketan Mistry (https://iamketan.com.au)
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/mit-license.php
 *
 */
(function(n){"use strict";typeof define=="function"&&define.amd?define(["jquery"],function(t){return n(t,window,document)}):typeof exports=="object"?module.exports=function(t,i){return t||(t=window),i||(i=typeof window!="undefined"?require("jquery"):require("jquery")(t)),n(i,t,t.document)}:n(jQuery,window,document)})(function(n){n.fn.ihavecookies=function(u,f){var a=n(this),e=n.extend({cookieTypes:[{type:"Site Preferences",value:"preferences",description:"These are cookies that are related to your site preferences, e.g. remembering your username, site colours, etc."},{type:"Analytics",value:"analytics",description:"Cookies related to site visits, browser types, etc."},{type:"Marketing",value:"marketing",description:"Cookies related to marketing, e.g. newsletters, social media, etc"}],elementId:"gdpr-cookie-message",title:"Cookies & Privacy",message:"Cookies enable you to use shopping carts and to personalize your experience on our sites, tell us which parts of our websites people have visited, help us measure the effectiveness of ads and web searches, and give us insights into user behavior so we can improve our communications and products.",link:"/privacy-policy",delay:2e3,expires:30,moreInfoLabel:"More information",acceptBtnLabel:"Accept All",acceptSelectedBtnLabel:"Accept Selected",acceptRecommendedBtnLabel:"Accept Recommended",advancedBtnLabel:"Customise",cookieTypesTitle:"Select cookies to accept",fixedCookieTypeLabel:"Necessary",fixedCookieTypeDesc:"These are cookies that are essential for the website to work correctly.",onAccept:function(){},uncheckBoxes:!1},u),h=t("cookieControl"),c=t("cookieControlPrefs"),o,l,s;if(h&&c&&f!="reinit")s=!0,h=="false"&&(s=!1),i(s,e);else{n("#"+e.elementId).remove();o='<fieldset class="form-check col-md-6 col-sm-12 text-white"><input type="checkbox" class="form-check-input" name="gdpr[]" value="necessary" checked="checked" disabled="disabled"> <label class="form-check-label text-white" title="'+e.fixedCookieTypeDesc+'">'+e.fixedCookieTypeLabel+"<\/label><\/fieldset>";preferences=JSON.parse(c);n.each(e.cookieTypes,function(n,t){if(t.type!==""&&t.value!==""){var i="";t.description!==!1&&(i=' title="'+t.description+'"');o+='<fieldset class="form-check col-md-6 col-sm-12 text-white"><input type="checkbox" class="form-check-input" id="gdpr-cookietype-'+t.value+'" name="gdpr[]" value="'+t.value+'" data-auto="on"> <label class="form-check-label" for="gdpr-cookietype-'+t.value+'"'+i+">"+t.type+"<\/label><\/fieldset>"}});l=`
<div class="modal fade right" id="${e.elementId}" tabindex="-1" role="dialog" aria-labelledby="cookieLabel" aria-hidden="true" data-backdrop="false">
    <div class="modal-dialog modal-side modal-bottom-right modal-notify modal-info" role="document">
         <!--Content-->
        <div class="modal-content" style="background-color: #181C30;">
            <!--Header-->
            <div id="modalHeader" class="modal-header">
                <p class="heading">${e.title}</p>

                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true" class="white-text">&times;</span>
                </button>
            </div>
            <!--Header-->
            <!--Body-->
            <div class="modal-body">
                <div class="row">
                    <div class="col-12">
                        <p class="text-white" >${e.message}
                        <a href="${e.link}">${e.moreInfoLabel}</a>
                        </p>
                        <div id="gdpr-cookie-types" style="display:none;">
                            <h6>${e.cookieTypesTitle}</h6>
                            <div class="row rounded-lg p-3">
                                ${o}
                            </div>
                            <a type="button" class="btn btn-sm btn-primary waves-effect col-5 ml-3" id="gdpr-cookie-accept" data-dismiss="modal" >${e.acceptSelectedBtnLabel}</a>
                            <a type="button" class="btn btn-sm btn-primary waves-effect col-5 ml-3" id="gdpr-cookie-accept-recommend" data-dismiss="modal" >${e.acceptRecommendedBtnLabel}</a>
                        </div>
                        <div class="row">
                            <a type="button" class="btn btn-sm btn-primary waves-effect col-5 ml-3" id="gdpr-cookie-accept-all" data-dismiss="modal" >${e.acceptBtnLabel}</a>
                            <a type="button" class="btn btn-sm btn-outline-primary waves-effect col-5 ml-4" id="gdpr-cookie-advanced" >${e.advancedBtnLabel}</a>
                        </div>

                    </div>
                </div>
            </div>
            <!--Body-->
        </div>
        <!--Content-->
    </div>
</div>`;setTimeout(function(){n(a).append(l);n("#"+e.elementId).modal("show");n("#"+e.elementId).on("show.bs.modal",function(){f=="reinit"&&(n("#gdpr-cookie-advanced").trigger("click"),n.each(preferences,function(t,i){n("input#gdpr-cookietype-"+i).prop("checked",!0)}))})},e.delay);n("body").on("click","#gdpr-cookie-accept",function(){i(!0,e);n('input[name="gdpr[]"][data-auto="on"]').prop("checked",!0);var t=[];n.each(n('input[name="gdpr[]"]').serializeArray(),function(n,i){t.push(i.value)});r("cookieControlPrefs",encodeURIComponent(JSON.stringify(t)),365);e.onAccept.call(this)});n("body").on("click","#gdpr-cookie-accept-all",function(){i(!0,e);n('input[name="gdpr[]"]').prop("checked",!0);var t=[];n.each(n('input[name="gdpr[]"]').serializeArray(),function(n,i){t.push(i.value)});r("cookieControlPrefs",encodeURIComponent(JSON.stringify(t)),365);e.onAccept.call(this)});n("body").on("click","#gdpr-cookie-accept-recommend",function(){i(!0,e);n('input[name="gdpr[]"][value="preferences"]').prop("checked",!0);n('input[name="gdpr[]"][value="analytics"]').prop("checked",!0);var t=[];n.each(n('input[name="gdpr[]"]').serializeArray(),function(n,i){t.push(i.value)});r("cookieControlPrefs",encodeURIComponent(JSON.stringify(t)),365);e.onAccept.call(this)});n("body").on("click","#gdpr-cookie-advanced",function(){n('input[name="gdpr[]"]:not(:disabled)').attr("data-auto","off").prop("checked",!1);n("#gdpr-cookie-types").slideDown("fast",function(){n("#gdpr-cookie-advanced").prop("disabled",!0)})})}e.uncheckBoxes===!0&&n('input[type="checkbox"].ihavecookies').prop("checked",!1)};n.fn.ihavecookies.cookie=function(){var n=t("cookieControlPrefs");return JSON.parse(n)};n.fn.ihavecookies.preference=function(n){var r=t("cookieControl"),i=t("cookieControlPrefs");return(i=JSON.parse(i),r===!1)?!1:i===!1||i.indexOf(n)===-1?!1:!0};var i=function(t,i){r("cookieControl",t,i.expires);n("#"+i.elementId).modal("hide");n("#"+i.elementId).on("hidden.bs.modal",function(){n("#"+i.elementId).modal("dispose")})},r=function(n,i,r){var u=new Date,f;return u.setTime(u.getTime()+r*864e5),f="expires="+u.toUTCString(),document.cookie=n+"="+i+";"+f+";path=/",t(n)},t=function(n){for(var t,r=n+"=",f=decodeURIComponent(document.cookie),u=f.split(";"),i=0;i<u.length;i++){for(t=u[i];t.charAt(0)==" ";)t=t.substring(1);if(t.indexOf(r)===0)return t.substring(r.length,t.length)}return!1}});